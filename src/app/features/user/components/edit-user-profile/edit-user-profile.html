<header class="site-header d-flex flex-column justify-content-center align-items-center">
    <div class="container">
        <div class="row align-items-center">

            <div class="col-lg-5 col-12">
                <nav aria-label="breadcrumb">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a>Your Profle</a></li>

                        <li class="breadcrumb-item active" aria-current="page">Edit Profile</li>
                    </ol>
                </nav>

                <h2 class="text-white">Edit Profile</h2>
            </div>

        </div>
    </div>
</header>

<section class="featured-section" style="margin-top: -50px;">
    <div class="container emp-profile">
        <form [formGroup]="formModel" style="margin-top: 80px;" (submit)="onSubmit()" enctype="multipart/form-data">
            <div class="row">
                <div class="col-md-4">
                    <div class="profile-img mt-5">
                        <img class="shadow-lg" alt="Profile Image" />
                        <input type="hidden" name="ExistingProfileImagePath" value="@Model.ExistingProfileImagePath" />
                        <div class="file btn btn-lg btn-primary">
                            Change Photo
                            <input type="file" asp-for="ProfileImage" accept=".jpg,.jpeg,.png,.gif,.bmp" />
                        </div>

                    </div>
                </div>
                <div class="col-md-8">
                    <div class="form-group">
                        <label for="UserName">Username:</label>
                        <input class="form-control" />
                        <span asp-validation-for="UserName" class="text-danger"></span>
                    </div>
                    <div class="form-group">
                        <label for="UserName">First Name:</label>
                        <input formControlName="firstName" class="form-control" />
                        <span class="text-danger"></span>
                        <label for="LastName">Last Name:</label>
                        <input formControlName="lastName" class="form-control" />
                        <span class="text-danger"></span>
                    </div>
                    <!-- <div class="form-group">
                        <label for="Email">Email:</label>
                        <input form class="form-control" />
                        <span class="text-danger"></span>
                    </div> -->
                    <div class="form-group">
                        <label for="PhoneNumber">Phone:</label>
                        <input formControlName="phoneNumber" class="form-control" />
                        <span asp-validation-for="PhoneNumber" class="text-danger"></span>
                    </div>
                    <div class="form-group">
                        <label>Address:</label>
                        <input formControlName="address" class="form-control" />
                        <span class="text-danger"></span>
                    </div>
                    <div class="form-group">
                        <label>Date of birth:</label>
                        <input type="date" formControlName="dob" class="form-control" id="dob" />
                        <span class="text-danger" id="dob-error"></span>
                    </div>
                    <div class="form-group">
                        <label>Gender:</label>
                        <select formControlName="gender" class="form-control">
                            <option [value]="0">Male</option>
                            <option [value]="1">Female</option>
                        </select>
                        <span asp-validation-for="gender" class="text-danger"></span>
                    </div>
                    <!-- @if(User.IsInRole("Instructor"))
                    {
                    <div class="form-group">
                        <label for="instructorIntro">Instructor Introduction:</label>
                            <textarea type="text" class="form-control" name="Introduction" id="instructorIntro">@(introdution != null ? introdution : "")</textarea>
                    </div>
                    } -->
                    <button type="submit"
                            style="margin-top: 20px;"
                            class="btn custom-btn" onclick="toggleLoader()">
                        Save Changes
                    </button>
                </div>
            </div>
        </form>
    </div>
</section>

<script>
    document.getElementById("dob").addEventListener("change", function () {
        const dobInput = document.getElementById("dob");

        const selectedDate = new Date(dobInput.value);
        const cutoffDate = new Date("2020-01-01");

        if (dobInput.value && selectedDate >= cutoffDate) {
            dobInput.setCustomValidity("Invalid date of birth");
            dobInput.reportValidity(); // Hiển thị thông báo lỗi ngay lập tức
        } else {
            dobInput.setCustomValidity(""); // Reset the custom validity
        }
    });
</script>