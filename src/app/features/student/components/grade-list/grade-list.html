<!-- Begin Page Content -->
<div class="container-fluid">

  <!-- Page Heading -->
  <h1 class="h3 mb-2 text-gray-800">Student's Grade List</h1>
  <p class="mb-4">
    To pass this course,
    you must complete all the lectures
    and have an average score of 5 or above.
  </p>

  @if (loading()) {
    <div class="d-flex align-items-center justify-content-center mb-5" style="height: 40vh;">
      <div class="spinner-border" role="status">
        <span class="visually-hidden">Loading...</span>
      </div>
    </div>
  } @else {
    <!-- DataTales Example -->
    <div class="card shadow mb-4">
      <div class="card-header py-3">
        <h6 class="m-0 font-weight-bold text-primary">Assignment</h6>
      </div>
      <div class="card-body">
        <div class="table-responsive">
          <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
            <thead>
              <tr>
                <th>Title</th>
                <th>Grade</th>
                <th>Submit at</th>
              </tr>
            </thead>
            <tbody>
              @if (assignmentScores() && assignmentScores().length > 0) {
                @for (item of assignmentScores(); track item.assignmentId) {
                  <tr>
                    <td>{{ getAssignmentTitle(item) }}</td>
                    <td>{{ item.score }}</td>
                    <td>{{ formatDate(item.submissionDate) }}</td>
                  </tr>
                }
              } @else {
                <tr>
                  <td colspan="3" style="text-align: center;">You haven't done any assignments.</td>
                </tr>
              }
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <div class="card shadow mb-4">
      <div class="card-header py-3">
        <h6 class="m-0 font-weight-bold text-primary">Test</h6>
      </div>
      <div class="card-body">
        <div class="table-responsive">
          <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
            <thead>
              <tr>
                <th>Title</th>
                <th>Grade</th>
                <th>Done At</th>
              </tr>
            </thead>
            <tbody>
              @if (testScores() && testScores().length > 0) {
                @for (item of testScores(); track item.testScoreId) {
                  <tr>
                    <td>{{ getTestTitle(item) }}</td>
                    <td>{{ item.scoreValue | number:'1.2-2' }}</td>
                    <td>{{ formatDate(item.doTestAt) }}</td>
                  </tr>
                }
              } @else {
                <tr>
                  <td colspan="3" style="text-align: center;">You haven't done any test.</td>
                </tr>
              }
            </tbody>
          </table>
        </div>
      </div>
    </div>
  }
</div>
